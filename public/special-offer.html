<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="styles/special-offer.css"/>
    <link
            href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400;700;900&display=swap"
            rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/intlTelInput.css"/>
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script type="text/javascript" src="js/dummy.js"></script>
    <script id="insert"></script>
    <script src="js/stringify.js" charset="utf-8"></script>
    <script>
        const customConsole = (w) => {
            const pushToConsole = (payload, type) => {
                w.parent.postMessage(
                    {
                        console: {
                            payload: stringify(payload),
                            type: type,
                        },
                    },
                    '*'
                );
            };

            w.onerror = (message, url, line, column) => {
                line = line - 70;
                if (line < 0) {
                    pushToConsole(message, 'error');
                } else {
                    pushToConsole(`[${line}:${column}] ${message}`, 'error');
                }
            };
        };

        if (window.parent) {
            customConsole(window);
        }
    </script>
</head>
<script>
    let isChecked = false;
    const cssClass = ' supply-radiobtn-checked';

    let time = 60 * 15,
        display = document.querySelector('#timer');
    document.addEventListener(
        'DOMContentLoaded',
        () => startTimer(time, display),
        false
    );

    let id;

    function checkDiv(e) {
        e = e || window.event;
        let element = e.target;

        if (isChecked && !element.className.includes(cssClass)) {
            return;
        }

        id = $(element).parent().attr('id');
        if (!isChecked) {
            element.className += cssClass;
            isChecked = true;
            $('.paypal-btn').removeClass('disabled');
            if (id === 'first-supply') {
                const inputs = $('.paypal-form input');
                for (const input of inputs) {
                    $(input).css({
                        visibility: 'hidden',
                    });
                }
            } else if (id === 'second-supply') {
                const inputs = $('.second-form input');
                for (const input of inputs) {
                    $(input).css({
                        visibility: 'hidden',
                    });
                }
            } else if (id === 'third-supply') {
                const inputs = $('.third-form input');
                for (const input of inputs) {
                    $(input).css({
                        visibility: 'hidden',
                    })
                }
            }
        } else {
            element.className = element.className.replace(cssClass, '');
            isChecked = false;
            $('.paypal-btn').addClass('disabled');
            if (id === 'first-supply') {
                const inputs = $('.paypal-form input');
                for (const input of inputs) {
                    $(input).css({
                        display: 'none',
                    });
                }
            } else if (id === 'second-supply') {
                const inputs = $('.second-form input');
                for (const input of inputs) {
                    $(input).css({
                        display: 'none',
                    });
                }
            } else if (id === 'third-supply') {
                const inputs = $('.third-form input');
                for (const input of inputs) {
                    $(input).css({
                        visibility: 'hidden',
                    })
                }
            }
        }
    }

    function pay() {
        console.log(id);
        switch (id) {
            case 'first-supply':
                $('#paypal_click_1').click();
                break;
            case 'second-supply':
                $('#paypal_click_2').click();
                break;
            case 'third-supply':
                $('#paypal_click_3').click();
                default:
                    console.log('qweqw')
        }
    }

    function renderTime(time) {
        const blocks = document.getElementsByClassName('expire-time-item');
        const minutes = time.slice(0, 2);
        const seconds = time.slice(2, 4);
        blocks[0].textContent = minutes;
        blocks[1].textContent = seconds;
    }

    function startTimer(duration, display) {
        let timer = duration,
            minutes,
            seconds;
        setInterval(() => {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;

            renderTime('' + minutes + seconds);

            if (--timer < 0) {
                timer = duration;
            }
        }, 1000);
    }
</script>

<body>
<div class="main">
    <div class="expires-in">
        <span>Offer expires in</span>
        <div class="expire-time">
          <span id="timer">
            <span class="expire-time-item"></span>
            <span class="expire-time-item"></span>
          </span>
        </div>
    </div>
    <div class="offer-with-price">
        <div class="special-offer">
            <span>Special offer:</span>
        </div>
        <div class="price-with-discount">
          <span class="price">
            Price: <span class="original-price">$539.70</span> $199.99
            <span class="discount-percentage">(67% Discount)</span>
          </span>
        </div>
    </div>
    <div class="order-block">
        <div class="choose-order">
            <img src="images/product-group.png" class="order-product-group"/>
            <button class="free-shipping-btn">
            <span class="free-shipping-btn-bold-text"
            >Free Shipping
              <span class="free-shipping-btn-text">on all order</span>
              today!</span
            >
            </button>
            <div class="steps">
                <div class="first-step-wrapper">
                    <div class="first-step">
                        <span class="first-step-text">1 Step</span>
                    </div>
                    <span class="choose-order-text">Choose Your Offer</span>
                </div>
                <div class="supply-list">
                    <div class="supply-item" id="first-supply">
                        <div class="supply-radiobtn" onclick="checkDiv()">
                            <img src="images/checked.png"/>
                        </div>
                        <div class="supply-price-wrapper">
                            <div class="supply-price">
                                <span class="supply-period">1 Month Supply</span>
                                <span class="supply-price-text">$49.95</span>
                            </div>
                            <div class="supply-discount-price">
                    <span class="supply-discount-percentage"
                    >51% Discount ($49.95/EACH)</span
                    >
                                <span class="supply-discount-price-text">$99.95</span>
                            </div>
                        </div>
                    </div>
                    <div class="supply-best-seller-item" id="second-supply">
                        <div class="supply-radiobtn" onclick="checkDiv()">
                            <img src="images/checked.png"/>
                        </div>
                        <div class="supply-price-wrapper">
                            <div class="supply-price">
                                <span class="supply-period">6 Months Supply</span>
                                <span class="supply-price-text">$199.95</span>
                            </div>
                            <div class="supply-discount-price">
                    <span class="supply-discount-percentage"
                    >67% Discount ($33.32/EACH)</span
                    >
                                <span class="supply-discount-price-text">$599.95</span>
                            </div>
                        </div>
                    </div>
                    <div class="supply-item" id="third-supply">
                        <div class="supply-radiobtn" onclick="checkDiv()">
                            <img src="images/checked.png"/>
                        </div>
                        <div class="supply-price-wrapper">
                            <div class="supply-price">
                                <span class="supply-period">3 Months Supply</span>
                                <span class="supply-price-text">$119.95</span>
                            </div>
                            <div class="supply-discount-price">
                    <span class="supply-discount-percentage"
                    >61% Discount ($39.98/EACH)</span
                    >
                                <span class="supply-discount-price-text">$299.95</span>
                            </div>
                        </div>
                    </div>
                    <div class="best-seller-block">
                        <span>Best-Seller</span>
                    </div>
                </div>
            </div>
        </div>
        <form id="myform" method="POST">
            <div class="contact-information">
                <div class="second-step-wrapper">
                    <div class="second-step">
                        <span class="second-step-text">2 Step</span>
                    </div>
                    <span class="contact-information-text">Contact Information</span>
                </div>
                <div class="form-block">
                    <form>
                        <input
                                class="form-input"
                                type="text"
                                id="fname"
                                name="fname"
                                placeholder="First Name"
                                form="myform"
                        />
                        <input
                                class="form-input"
                                type="text"
                                id="lname"
                                name="lname"
                                placeholder="Last Name"
                                form="myform"
                        />
                        <input
                                class="form-input"
                                type="text"
                                id="email"
                                name="email"
                                placeholder="Email"
                                form="myform"
                        />
                        <input
                                type="text"
                                id="phone"
                                class="form-input"
                                name="number"
                                form="myform"
                        />
                    </form>
                </div>
                <div class="third-step-wrapper">
                    <div class="third-step">
                        <span class="third-step-text">3 Step</span>
                    </div>
                    <span class="shipping-details">Shipping Details</span>
                </div>
                <div class="shipping-form">
                    <form>
                        <input
                                class="form-input"
                                type="text"
                                id="country"
                                placeholder="Country"
                                name="country"
                                form="myform"
                        />
                        <input
                                class="form-input"
                                type="text"
                                id="city"
                                name="city"
                                placeholder="Town/City"
                                form="myform"
                        />
                        <input
                                class="form-input form-input-full-width"
                                type="text"
                                id="street"
                                name="street"
                                placeholder="Street & House Number"
                                form="myform"
                        />
                        <input
                                class="form-input form-input-full-width"
                                type="text"
                                id="zip"
                                name="zip"
                                placeholder="ZIP/Postal Code"
                                form="myform"
                        />
                    </form>
                </div>
                <div class="fourth-step-wrapper">
                    <div class="fourth-step">
                        <span class="fourth-step-text">4 Step</span>
                    </div>
                    <span class="payment-details">Payment Details</span>
                    <div class="commissions">
                        <span class="commissions-text">No hidden commissions</span>
                        <img
                                src="images/rectangle-commissions.png"
                                class="rectangle-commissions"
                        />
                    </div>
                </div>
                <div class="commissions-mobile">
                    <span class="commissions-text">No hidden commissions</span>
                </div>
                <div class="paypal-block">
                    <div class="paypal-header">
                        <span>Pay Securely Through with</span>
                        <img src="images/paypal-logo.png" class="paypal-logo" width="100px"/>
                    </div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top"
                          class="paypal-form">
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="FZP552523GW7G">
                        <input id="paypal_click_1" type="image" src="https://www.paypalobjects.com/en_GB/SG/i/btn/btn_buynowCC_LG.gif"
                               border="0" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1"
                             height="1">
                    </form>
                    <form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post"
                          class="second-form">
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="4KG2PA4AWBV38">
                        <input id="paypal_click_2" type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_cart_LG.gif" border="0"
                               name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1"
                             height="1">
                    </form>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" class="third-form">
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="R7RCHGV4TL4J6">
                        <input id="paypal_click_3" type="image" src="https://www.paypalobjects.com/en_GB/SG/i/btn/btn_buynowCC_LG.gif"
                               border="0" name="submit" alt="PayPal – The safer, easier way to pay online!">
                        <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1"
                             height="1">
                    </form>
                    <!-- <div> -->
                    <button class="paypal-btn disabled" onclick="pay()">
                        <span>Secure my order with free shipping</span>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                    </button>
                    <!-- </div> -->
                </div>
                <div class="security-block">
                    <div class="security-header">
                <span
                >Your purchases will appear as “GREENSKYPTE” on your credit
                  card statement.</span
                >
                    </div>
                    <div class="security-logo-list">
                        <div class="security-logo-item">
                            <img src="images/mc-afee.png" width="104px" height="42px"/>
                        </div>
                        <div class="security-logo-item">
                            <img src="images/norton.png" width="115px" height="49px"/>
                        </div>
                        <div class="security-logo-item">
                            <img src="images/es-256.png" width="132px" height="49px"/>
                        </div>
                    </div>
                </div>
                <div class="order-footer">
              <span
              >Shopping on this page is safe and secure, your personal details
                <br class="new-line">
                are strictly protected.</span
              >
                </div>
            </div>
        </form>
    </div>
    <div class="footer">
        <div class="dmca-block">
            <img src="images/dmca.png" width="150px" height="30px"/>
        </div>
        <div class="footer-links">
            <a href="policy.html">Privacy</a>
            <a href="disclaimer.html">Terms & Disclaimer</a>
            <a href="">Support</a>
        </div>
        <div class="reserved-block">
            <span>© All Rights Reserved.</span>
        </div>
    </div>
</div>

<script type="text/javascript" src="js/jquery.min.js"></script>

<script type="text/javascript" src="js/email.min.js"></script>
<script type="text/javascript">
    (function () {
        emailjs.init('user_vXeGS2FIyKZtI44J2nkbf');
    })();
</script>

<script>

</script>

<script type="text/javascript">
    const myform = $('#myform');

    myform.submit(function (event) {
        event.preventDefault();

        $('.paypal-btn i').css({
            visibility: 'visible',
        });
        $('.paypal-btn span').css({
            display: 'none',
        });

        // const service_id = "default_service";
        // const template_id = "template_zfaOZURM";

        // emailjs.sendForm(service_id, template_id, myform[0]).then(
        //   function () {},
        //   function (err) {
        //     alert("Send email failed!\r\n Response:\n " + JSON.stringify(err));
        //   }
        // );
        return false;
    });

    myform.submit(function (event) {
        event.preventDefault();

        // const service_id = "default_service";
        // const template_client_id = "client_email";

        // emailjs.sendForm(service_id, template_client_id, myform[0]).then(
        //   function () {
        //     myform.find("button");
        //   },
        //   function (err) {
        //     alert("Send email failed!\r\n Response:\n " + JSON.stringify(err));
        //     myform.find("button");
        //   }
        // );
        return false;
    });
</script>

<script>
    if (window.parent && window.parent.parent) {
        window.parent.parent.postMessage(
            [
                'resultsFrame',
                {
                    height: document.body.getBoundingClientRect().height,
                    slug: '',
                },
            ],
            '*'
        );
    }
    window.name = 'result';
</script>

<script>
    let allLines = [];

    window.addEventListener('message', (message) => {
        if (message.data.console) {
            let insert = document.querySelector('#insert');
            allLines.push(message.data.console.payload);
            insert.innerHTML = allLines.join(';\r');

            let result = eval.call(null, message.data.console.payload);
            if (result !== undefined) {
                console.log(result);
            }
        }
    });
</script>

<script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"
></script>
<script src="js/intlTelInput.js" type="text/javascript"></script>
<script type="text/javascript" src="js/specialOffer.js"></script>
</body>
</html>
